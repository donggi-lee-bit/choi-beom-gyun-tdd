# TDD 기능, 명세, 설계

## 기능 명세

어떤 형태가 되든 간에 사용자에게 제공할 기능을 구현하기 위해서는 기능을 크게 `입력`과 `결과`로 나누어 생각해볼 수 있다 <br>
<br>
로그인 기능을 예로 들면 로그인 기능에서 입력과 결과는 다음과 같이 정의할 수 있다
- 입력 : 아이디와 암호
- 결과 : 아이디와 암호가 일치하면 성공, 일치하지 않으면 실패

입력은 보통 메서드의 `파라미터`로 전달한다. <br>
결과는 여러 형식으로 정의할 수 있다 
- 가장 쉽게 생각할 수 있는 형식은 `리턴 값`이다. `Exception`을 결과로 사용할 수도 있다. (인증에 실패하면 Exception 발생 등)
- 변경도 기능 실행 결과에 포함할 수 있다. 회원 가입 기능 실행 결과로 DB에 회원 정보를 추가한다.

## 설계 과정을 지원하는 TDD

TDD는 테스트를 만드는 것부터 시작한다. 테스트 코드를 먼저 만들고 테스트를 통과시키기 위해 코드를 구현하고 리팩토링하는 과정을 반복한다. 테스트 코드를 먼저 만들기 위해 필요한 여러 가지 중 다음 두 가지를 할 수 있어야 한다.
- 테스트할 기능을 실행
  - 테스트에서 실행할 수 있는 객체나 함수가 존재해야함
- 실행 결과를 검증

테스트 코드를 작성하는 과정에서 다음 네 가지를 결정할 수 있었다
- 클래스 이름
- 메서드 이름
- 메서드 파라미터
- 실행 결과

이 네 가지를 결정하는 과정이 곧 설계 과정이다. TDD 자체가 설계는 아니지만, TDD를 하다보면 테스트 코드를 작성하는 과정에서 일부 설계를 진행하게 된다.

## 필요한만큼 설계하기

TDD는 테스트를 통과할만큼만 코드를 작성한다. <br>
필요할 것을 예측해서 미리 코드를 만들지 않는다. 설계에서도 마찬가지로 필요할 것으로 예측해서 미리 설계를 유연하게 만들지 않는다. 실제 테스트 사례를 추가하고 통과시키는 과정에서 필요한 만큼 설계를 변경한다. 
<br><br>
TDD로 개발할 때 필요한 만큼 설계 한다고 하여 사전에 설계 활동을 생략하라는 것은 아니다
<br>
요구사항을 분석하는 과정에서 당연히 설계를 진행하고 설계한 결과물은 초안에 불과하다. 초안대로 끝까지 개발된다는 보장이 없고 최초 요구사항은 시간이 지나면 변하기 때문.
<br><br>
TDD는 미리 앞서 코드를 만들지 않으므로 불필요한 구성 요소를 덜 만들게 된다.

## 기능 명세 구체화

테스트 코드를 작성하기 위해 개발자는 기능 명세를 정리해야 한다. 기획자가 작성한 스토리보드나 와이어프레임과 같은 형태로 전달 받은 요구사항 명세는 개발자가 기능을 구현하기에는 생략된 내용이 많다. 
<br><br>
테스트 코드를 작성하려면 입력과 결과가 명확해야 하므로 애매한 점을 발견하면 기획자나 실무 담당자와 이야기하여 상황에 따라 기능이 어떻게 동작해야 하는지 구체적으로 정리해야 한다.
